<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/SearchBar/SearchBar.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/SearchBar/SearchBar.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/* eslint-disable consistent-return */
/* eslint-disable react-hooks/exhaustive-deps */
/* eslint-disable no-console */

// == Import : npm
import { useState } from 'react';
import { useLocation, useNavigate } from 'react-router-dom';

// == Import : style
import './SearchBar.scss';

/**
 * Component representing a search bar.
 * @returns {JSX.Element} The search bar component.
 */
function SearchBar() {
  // define editable state of every options of select
  const [search, setSearch] = useState('');
  const [selectValue, setSelectValue] = useState('albums');

  // define editable state of mobile, to display or not some parts of the app
  const [isMobile, setIsMobile] = useState(window.innerWidth &lt;= 768);

  const navigate = useNavigate();
  const location = useLocation();

  /**
   * Handles the click event for the search bar.
   * @param {Object} e - The event object.
   */
  const handleClick = (e) => {
    setSelectValue(e.target.value);
    console.log(e.target.value);
  };
  // if selected value = type => navigate to :
  const getResults = () => {
    if (selectValue === 'albums') {
      navigate(`/resultat-recherche/albums/${search}`);
    } else if (selectValue === 'artists') {
      navigate(`/resultat-recherche/artists/${search}`);
    }
  };

  const onWindowResize = () => {
    setIsMobile(window.innerWidth &lt;= 768);
  };

  window.addEventListener('resize', onWindowResize);
  window.addEventListener('load', onWindowResize);

  // if url = resultat-recherche, then isSearchResultPage
  const isSearchResultPage = location.pathname.startsWith('/resultat-recherche');

  if ((isMobile &amp;&amp; isSearchResultPage) || !isMobile) {
    return (
      &lt;div className={`SearchBar ${isSearchResultPage &amp;&amp; isMobile ? 'Search-Result-Visible' : ''} ${isSearchResultPage &amp;&amp; !isMobile ? 'FormatPC' : ''}`}>
        {/* si on est sur la bonne url et que nous sommes en mobile alors ajoute la classe */}
        &lt;h2 className={`SearchBar ${isSearchResultPage &amp;&amp; isMobile ? 'Search-Result-Visible' : ''}`}>Recherche&lt;/h2>
        &lt;form
          className="SearchBar-Form"
          onSubmit={(event) => {
            console.log('Envoi de la recherche...');
            event.preventDefault();
            getResults();
          }}
        >
          &lt;input
            className="SearchBar-Input"
            type="search"
            placeholder="Votre recherche..."
            aria-label="Search"
            value={search}
            onChange={(event) => {
              setSearch(event.target.value);
              console.log(event.target.value);
            }}
          />

          &lt;div>
            &lt;select
              className="SearchBar-Select"
              value={selectValue}
              onChange={handleClick}
            >
              &lt;option className="SearchBar-Options" value="albums">albums&lt;/option>
              &lt;option className="SearchBar-Options" value="artists">artists&lt;/option>
            &lt;/select>
          &lt;/div>

          &lt;button className="SearchBar-Button" type="submit">
            &amp;#x1F50E;
          &lt;/button>
        &lt;/form>
      &lt;/div>
    );
  }
}

// == Export
export default SearchBar;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#AboutUs">AboutUs</a></li><li><a href="global.html#AlbumCard">AlbumCard</a></li><li><a href="global.html#AlbumPage">AlbumPage</a></li><li><a href="global.html#App">App</a></li><li><a href="global.html#BottomNavigation">BottomNavigation</a></li><li><a href="global.html#FavoriteButton">FavoriteButton</a></li><li><a href="global.html#FavoriteCard">FavoriteCard</a></li><li><a href="global.html#Favorites">Favorites</a></li><li><a href="global.html#Footer">Footer</a></li><li><a href="global.html#Header">Header</a></li><li><a href="global.html#HomePage">HomePage</a></li><li><a href="global.html#LayoutWithHeader">LayoutWithHeader</a></li><li><a href="global.html#LayoutWithoutHeader">LayoutWithoutHeader</a></li><li><a href="global.html#LegalNotices">LegalNotices</a></li><li><a href="global.html#Loading">Loading</a></li><li><a href="global.html#Login">Login</a></li><li><a href="global.html#NavBar">NavBar</a></li><li><a href="global.html#Page404">Page404</a></li><li><a href="global.html#ReturnButton">ReturnButton</a></li><li><a href="global.html#Search">Search</a></li><li><a href="global.html#SearchBar">SearchBar</a></li><li><a href="global.html#SearchResult">SearchResult</a></li><li><a href="global.html#SignUp">SignUp</a></li><li><a href="global.html#StylesCarousel">StylesCarousel</a></li><li><a href="global.html#StylesPage">StylesPage</a></li><li><a href="global.html#StylesResult">StylesResult</a></li><li><a href="global.html#TermsofService">TermsofService</a></li><li><a href="global.html#UserProfile">UserProfile</a></li><li><a href="global.html#UserProfileForm">UserProfileForm</a></li><li><a href="global.html#addFavorite">addFavorite</a></li><li><a href="global.html#api">api</a></li><li><a href="global.html#reducer">reducer</a></li><li><a href="global.html#removeFavorite">removeFavorite</a></li><li><a href="global.html#rootReactElement">rootReactElement</a></li><li><a href="global.html#rootReducer">rootReducer</a></li><li><a href="global.html#saveLoginSuccessful">saveLoginSuccessful</a></li><li><a href="global.html#setAvatar">setAvatar</a></li><li><a href="global.html#setClearInput">setClearInput</a></li><li><a href="global.html#setEmail">setEmail</a></li><li><a href="global.html#setFavorites">setFavorites</a></li><li><a href="global.html#setFirstName">setFirstName</a></li><li><a href="global.html#setLastName">setLastName</a></li><li><a href="global.html#setPassword">setPassword</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Sat Feb 17 2024 17:24:01 GMT+0100 (heure normale dâ€™Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
